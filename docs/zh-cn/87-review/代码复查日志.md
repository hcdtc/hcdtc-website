
## 2019-09-05

1、数据审计配置，切租户做成按钮放在头部上  

2、数据审计配置考虑是否启用所有配置  

3、batchInsert() 改成foreach插入  

4、文档-数据审计-限制场景-有错别字  

5、优化数据审计处理器： 先找出可以处理的处理器  

6、拦截器要实现一个特定的抽象接口、方可保证执行顺序  

7、并发批量更新一致性保证  

8、try{}finally{}redis操作释放资源  

9、消息队列异步处理：考虑有否有必要提到默认实现上  

10、DTO对象没有用、直接用两个参数就好。避免了再次创建对象  

11、data-change 命名是否改为数据采集更好理解


## 2019-08-29  
  
1.RedisHelper 动态切DB有问题、粒度要控制    

2.组合接口的调用次数整合到实例中去以提升性能  

3.组合接口调度算法使用策略模式  

4.组合接口参数映射来源与目标参数映射反了  

5.新增验证groovy脚本执行是否好使  


## 2019-08-23
- 记录人：`李建波`
- 点评：芳子代码规范非常不错，值的大家学习！另外，架构都是演进而来的，需要循序渐进，找到合适的方案

问题项|责任人|解决时间|解决方案
---|---|---|---
父组件对于子组件的引用应保持一致|虎翎芳子|2019-08-29|修改保持一致
客户化菜单导出文件名：menu-yyyyMMdd.json，带上日期|吴星星|2019-08-29|拼接上日期
客户化菜单子树导入会有问题：需要考虑父级菜单为非标准菜单情况，租户ID不应该写死标准菜单租户|吴星星|2019-08-29|改成了校验是否是客户化菜单
任何资源文件均需要关闭|吴星星|2019-08-29|经检查框架层面有做关闭
导入需要校验是否为客户化菜单，标准菜单只做查询取值，客户化菜单才做导入操作|吴星星|2019-08-29|后端限制
前端操作的数据需要赋值给数据库查询出来的数据进行更新|吴星星|2019-08-29|修改赋值
管道过滤器模式在选择SDK实现时不适用，优化为通过Context+Map的方式定位|李建波|2019-08-29|通过invoker方式简化了层级

## 2019-04-29

1. 泛化接口。
对于消息监听的service,不要用RocketmqXXX命名，直接MqXXX就好。底层消息系统更换最好不影响接口使用

2. SQL注入问题
建表的DDL直接被执行是有恶意SQL注入的风险的

3. 多线程任务的错误感知。
数据分发的时候，当一个线程执行失败，主线程要立马感知到并停止继续执行分页查询以及将数据发给消费组操作。

4. 数据恢复问题
租户维度对于大数据而言，不要用事务，需要将当前租户id更改为uniqueId而不是删除，然后执行成功删除，否则改回来

5. offset 消费起点问题
对于offset的查询，从send表的初始化时间戳前面的最近的数据作为消费offset起始数据。因为在初始化前队列可能已经有了消息，
查不到会从0消费。


<style>
table th:first-of-type {
	width: 30%;
}

table th:nth-of-type(2) {
	width: 15%;
}

table th:nth-of-type(3) {
	width: 15%;
}
</style>