## 2019-08-25
### W1-Check(10min):
-   1.接口平台namespace的改造
-   2.服务计费hzero-charge服务的初始化
-   3.服务计费配置的维护API
 
### W1-Action(5min):
本周由于任务比较简单，一切进展还算顺利。
 
### W1-Effect(2~4hour):
总结springBoot入门和文件配置相关文档
 
### W2-Plan(15min):
1.提交服务计费配置维护相关功能给测试
2.开始电子签章相关开发
 
### W2-Do(15min):
尽量周一完成服务计费配置维护的测试，周二开始电子签章的开发
 
### Expect(5min-Optional):
不是很希望每天都十点过到家，每周有一两天还行能接受。主要是如果太迟到家，第二天会感到十分疲惫。

## 2019-09-02
### W1-Check(10min):
-   1.接口平台HTTPS的支持，CA证书配置完成80%
-   2.服务计费联调
-   3.transfer 数据分发技术支持
-   4.发版支持，相关文档编写
 
### W1-Action(5min):
https开发花了不少时间，原因在于自身http相关知识的欠缺，导致自己需要花费大量时间去学习相关知识。好在大部分技术点都走通了
 
### W1-Effect(2~4hour):
总结springBoot入门和文件配置相关文档
 
### W2-Plan(15min):
周二之前完成https相关开发及测试
 
### W2-Do(15min):
尽量周一完成https相关开发及测试
 
### Expect(5min-Optional):

## 2019-09-15
### W1-Check(10min):
-   1.CA证书完善，包含CA证书配置缓存，以及验证
-   2.服务计费部分bug修复
-   3.数据分发对自定义mapper的支持，包含新增的bug修复

 
### W1-Action(5min):
1.自定义mapper的支持开发过程中未来扩展性，花费不少时间。但是通过和明伟哥的探讨，收获两点：1.可扩展程序设计经验 2.对问题需要一丝不苟的解，不能将就
 
### W1-Effect(2~4hour):
总结springBoot入门和文件配置相关文档（未完成，由于中秋放假回老家，周天晚上回来测试代码的时候发现了新BUG，花了时间去解决BUG了）
 
### W2-Plan(15min):
周一完成数据分发对自定义mapper的支持的测试版本发布
 
### W2-Do(15min):

 
### Expect(5min-Optional):

## 2019-09-22
### W1-Check(10min):
*   数据分发客户端支持自定义mapper开发环境测试并发布3.解答陈强数据分发和数据变化拦截客户端的使用，他们的需求是异构表结构数据数据的同步，目前数据分发不支持，为他推荐了阿里的DATAX组件4.根据其他项目组提供的接口测试https相关功能，但是由于他们的服务器提供的CA证书（自发证书）配置有问题，——提供的自发证书，但是服务器第二次握手返回的证书是hand的证书，不匹配。经过查证，是他们的证书设置问题
*   iam服务和平台服务启用数据审计功能
*   修复开发环境数据审计功能性BUG：
    *    1）无法审计creationDate createdBy  lastUpdateDate lastUpdatedBy objectVersionNumber 四个who字段的值，即使配置了对改字段的审计。原因是：之前的逻辑是通过entityClass反射获取字段，无法获取到继承自AuditDomain的字段导致。现在已经删除此逻辑（该逻辑是在之前通过注解配置审计字段时遗留），直接通过审计配置获取字段名称 
    *   2）修复多语言字段的原始值为null的问题。经过排查，发现是在解析多语言字段的时候在取map的Key值时候错误导致无法获取到多语言字段的原始值。已经修复
*   客户端配置平台级API添加级联调,服务认证批量操作优化
*   欧志伟自定义mapper适用指导
    *    1）.由于parent的版本是1.0.0.release版本，所以在依赖transfer的时候即使transfer时候1.1.0版本。但是由于pom文件是根据parent的version去控制的。所以还是会依赖1.0.0.release。解决方案是排除依赖后单独依赖 
    *    2）.由于他们的动态mapper没法再新增的时候设置useGenaratedKeys (主键回写)。所以导致新增功能无法拦截通过主键获取，有待支持    
    *   3）.目前是不支持批量更新操作的，是否考虑支持

 
### W1-Action(5min):

	SSL证书是根据域名来签发的，申请SSL证书首先肯定要提供域名，而域名是解析到IP地址上的。无论签发还是配置SSL证书时都需要绑定域名的，所以生成证书时需要指定域名而非用IP地址。
    SSL证书是绑定域名的，一个SSL证书只能绑定一个域名，但不等于要为你所有的域名都购买一张SSL证书，SSL证书按照功能类型可分为单域名型证书、多域名型证书、通配符型域名证书

    梳理返回值逻辑  封装fremarker的confige类为单例。
当使用多线程应用程序(比如Web网站)，Configuration 实例中的设置就不能被修改。它们可以被视作为 "有效的不可改变的" 对象， 也可以继续使用 安全发布 技术 (参考 JSR 133 和相关的文献)来保证实例对其它线程也可用。比如， 通过final或volatile字段来声明实例，或者通过线程安全的IoC容器，但不能作为普通字段。 (Configuration 中不处理修改设置的方法是线程安全的。)
 
### W1-Effect(2~4hour):

 
### W2-Plan(15min):
周一完成对新增操作主键回写的支持  考虑是否支持批量新增
 
### W2-Do(15min):

 
### Expect(5min-Optional):

## 2019-09-27
### W1-Check(10min):
* 数据拦截组件支持自定义mapper的试用，已经解决
* 数据拦截组件支持自定义新增sql和批量新增支持 。周二发布一个版本试用发现有问题，目前已经发布最新的解决方案

 
### W1-Action(5min):

数据拦截框架对自定义sql和批量新增语法的最新方案的支持及测试。最新方案摒弃了之前通过myabtis回写插件generator获取主键的思路，通过解析mapper接口入参和解析sql语句的方式获取主键值。具体思路如下：

* 在原sql执行完成之后执行主键获取逻辑。首先会尝试从mapper的入参对象入手。当插入的数据是通过mapper的参数传递到xml文件中然后通过动态sql构造插入语句的情况。在当前情况下，无论主键生成策略是自增还是外部生成，最终都能在参数对象中获取到主键值。实现思路是优先获取配置在insert标签上的keyProperty字段获取主键的路径。为何说获取的是主键的路径,因为根据mybatis语法，当mapper的参数有@param（参数别名）注解注释的时候，最终mybatis会把参数封装成一个多层次的map对象。即parameterObject对象是一个map，其中一个key-value键值对的是key就是参数别名，value是参数对象。假如参数对象是对象，该对象有一个字段是personId 那么安装mybatis的语法，在配置keyProperty的时候应该配置为 参数别名.personId 。所有我们获取到的实际上是一个路径。在解析的是是要根据这个路径去找到对应的字段。因此keyProperty字段是必须的，除非其传入的参数对象没有@param（参数别名）注解，且该对象就是mapper绑定的entity，此时可以不用设置

* 如果无法从mapper的入参对象中获取到主键值，还会尝试从插入语句中获取。具体是思路是通过要插入的字段列表insertColumns定位到主键字段所在的下标，然后再解析插入的值列表insertItems获取到对应下标的数据，由于他们一一对应关系，是能获取到正确的主键值。该逻辑是为了在mapper外部已经完成对sql语句的拼接的情况。

 
### W1-Effect(2~4hour):

 
### W2-Plan(15min):

### W2-Do(15min):

 
### Expect(5min-Optional):